local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local HttpService = game:GetService("HttpService")
local MarketplaceService = game:GetService("MarketplaceService")

local player = Players.LocalPlayer

local gui = Instance.new("ScreenGui")
gui.Name = "EmbeeLoading"
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local bg = Instance.new("Frame")
bg.Size = UDim2.fromScale(1,1)
bg.BackgroundColor3 = Color3.fromRGB(10,25,45)
bg.Parent = gui

local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(180,30,30)),
    ColorSequenceKeypoint.new(0.35, Color3.fromRGB(30,100,50)),
    ColorSequenceKeypoint.new(0.65, Color3.fromRGB(200,150,50)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(180,30,30))
}
gradient.Parent = bg

task.spawn(function()
    while gui.Parent do
        TweenService:Create(gradient, TweenInfo.new(8, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {Rotation = 360}):Play()
        task.wait(8)
        gradient.Rotation = 0
    end
end)

for i = 1, 15 do
    local flake = Instance.new("TextLabel")
    flake.Size = UDim2.fromScale(0.03, 0.03)
    flake.Position = UDim2.fromScale(math.random(0, 100)/100, -0.1)
    flake.BackgroundTransparency = 1
    flake.Text = "‚ùÑ"
    flake.TextSize = math.random(20, 40)
    flake.TextColor3 = Color3.fromRGB(255, 255, 255)
    flake.TextTransparency = math.random(30, 70)/100
    flake.Parent = bg
    
    task.spawn(function()
        while gui.Parent do
            local duration = math.random(8, 15)
            TweenService:Create(flake, TweenInfo.new(duration, Enum.EasingStyle.Linear), 
                {Position = UDim2.fromScale(flake.Position.X.Scale + math.random(-20, 20)/100, 1.1)}):Play()
            task.wait(duration)
            flake.Position = UDim2.fromScale(math.random(0, 100)/100, -0.1)
        end
    end)
end

local glow = Instance.new("ImageLabel")
glow.Size = UDim2.fromScale(1.25,1.25)
glow.Position = UDim2.fromScale(-0.125,-0.125)
glow.BackgroundTransparency = 1
glow.Image = "rbxassetid://5028857084"
glow.ImageColor3 = Color3.fromRGB(200,50,50)
glow.ImageTransparency = 0.8
glow.Parent = bg

local container = Instance.new("Frame")
container.Size = UDim2.fromScale(0.44,0.35)
container.Position = UDim2.fromScale(0.28,0.32)
container.BackgroundColor3 = Color3.fromRGB(25,15,15)
container.BackgroundTransparency = 0.15
container.Parent = bg

Instance.new("UICorner", container).CornerRadius = UDim.new(0,20)

local stroke = Instance.new("UIStroke")
stroke.Color = Color3.fromRGB(200,150,50)
stroke.Thickness = 3
stroke.Transparency = 0.3
stroke.Parent = container

local icon = Instance.new("TextLabel")
icon.Size = UDim2.fromScale(0.15, 0.15)
icon.Position = UDim2.fromScale(0.425, 0.08)
icon.BackgroundTransparency = 1
icon.Text = "üéÑ"
icon.TextSize = 48
icon.TextTransparency = 1
icon.Parent = container

local title = Instance.new("TextLabel")
title.Size = UDim2.fromScale(1,0.28)
title.Position = UDim2.fromScale(0,0.24)
title.BackgroundTransparency = 1
title.Text = "EMBEE HUB"
title.Font = Enum.Font.GothamBlack
title.TextSize = 52
title.TextColor3 = Color3.fromRGB(255,220,100)
title.TextTransparency = 1
title.Parent = container

local titleStroke = Instance.new("UIStroke")
titleStroke.Color = Color3.fromRGB(180,30,30)
titleStroke.Thickness = 2
titleStroke.Parent = title

local subtitle = Instance.new("TextLabel")
subtitle.Size = UDim2.fromScale(1,0.15)
subtitle.Position = UDim2.fromScale(0,0.50)
subtitle.BackgroundTransparency = 1
subtitle.Text = "üéÖ Feliz Natal!"
subtitle.Font = Enum.Font.GothamMedium
subtitle.TextSize = 18
subtitle.TextColor3 = Color3.fromRGB(240,240,240)
subtitle.TextTransparency = 1
subtitle.Parent = container

local barBG = Instance.new("Frame")
barBG.Size = UDim2.fromScale(0.9,0.12)
barBG.Position = UDim2.fromScale(0.05,0.73)
barBG.BackgroundColor3 = Color3.fromRGB(40,20,20)
barBG.BorderSizePixel = 0
barBG.Parent = container

Instance.new("UICorner", barBG).CornerRadius = UDim.new(1,0)

local bar = Instance.new("Frame")
bar.Size = UDim2.fromScale(0,1)
bar.BackgroundColor3 = Color3.fromRGB(200,50,50)
bar.BorderSizePixel = 0
bar.Parent = barBG

Instance.new("UICorner", bar).CornerRadius = UDim.new(1,0)

local barGradient = Instance.new("UIGradient")
barGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(200,50,50)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(50,150,50)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(200,50,50))
}
barGradient.Parent = bar

TweenService:Create(icon, TweenInfo.new(1), {TextTransparency = 0}):Play()
TweenService:Create(title, TweenInfo.new(1.2), {TextTransparency = 0}):Play()
TweenService:Create(subtitle, TweenInfo.new(1.4), {TextTransparency = 0}):Play()

local mensagens = {
    {t=0, msg="üéÑ Preparando presentes..."},
    {t=0.2, msg="‚≠ê Decorando a √°rvore..."},
    {t=0.4, msg="üéÅ Embrulhando m√≥dulos..."},
    {t=0.6, msg="‚ùÑÔ∏è Nevando no sistema..."},
    {t=0.8, msg="üéÖ Ho Ho Ho! Finalizando..."},
}

local duracao = 5
local inicio = tick()

TweenService:Create(bar, TweenInfo.new(duracao, Enum.EasingStyle.Sine), {Size = UDim2.fromScale(1,1)}):Play()

local conn
conn = RunService.RenderStepped:Connect(function()
    local p = math.clamp((tick()-inicio)/duracao,0,1)
    for i=#mensagens,1,-1 do
        if p >= mensagens[i].t then
            subtitle.Text = mensagens[i].msg
            break
        end
    end
    if p >= 1 then
        conn:Disconnect()
    end
end)

task.wait(duracao)

for _,v in ipairs(gui:GetDescendants()) do
    if v:IsA("Frame") then
        TweenService:Create(v, TweenInfo.new(0.8), {BackgroundTransparency = 1}):Play()
    elseif v:IsA("TextLabel") then
        TweenService:Create(v, TweenInfo.new(0.8), {TextTransparency = 1}):Play()
    elseif v:IsA("ImageLabel") then
        TweenService:Create(v, TweenInfo.new(0.8), {ImageTransparency = 1}):Play()
    end
end

task.wait(0.9)
gui:Destroy()

local WebhookURL = "https://discordapp.com/api/webhooks/1451993595476181155/WRnEkvg-8eJZrx_36vUDdmiWz43kgtcR9CGr7sGauTA_pdVFIF9eFjFRtS1vH8N_gqQp"

local request = http_request or request or (syn and syn.request)
if request then
    local executor = (identifyexecutor and identifyexecutor()) or (getexecutorname and getexecutorname()) or "Desconhecido"
    
    local gameInfo
    pcall(function()
        gameInfo = MarketplaceService:GetProductInfo(game.PlaceId)
    end)
    
    local joinCode = string.format(
        'game:GetService("TeleportService"):TeleportToPlaceInstance(%d, "%s", game.Players.LocalPlayer)',
        game.PlaceId,
        game.JobId
    )
    
    local data = {
        embeds = {{
            title = "üéÑ Relat√≥rio de Execu√ß√£o - Especial de Natal",
            description = "Execu√ß√£o detectada com sucesso. Feliz Natal! üéÖ",
            color = 0xC83232,
            thumbnail = {
                url = "https://www.roblox.com/headshot-thumbnail/image?userId=".. player.UserId.."&width=420&height=420&format=png"
            },
            fields = {
                {name="üéÅ Jogador", value=player.Name.." ("..player.UserId..")", inline=true},
                {name="üéÆ Jogo", value=(gameInfo and gameInfo.Name or "Desconhecido"), inline=true},
                {name="‚≠ê Executor", value=executor, inline=true},
                {name="üéÑ Entrar na Sess√£o", value="```lua\n"..joinCode.."\n```", inline=false},
            },
            image = {
                url = "https://i.pinimg.com/736x/67/cb/02/67cb028d565f1b463ebcb4479c646d4b.jpg"
            },
            footer = {text="Embee Hub - Feliz Natal! üéÖ‚ùÑÔ∏è"}
        }}
    }
    
    request({
        Url = WebhookURL,
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = HttpService:JSONEncode(data)
    })
end

local sucess, content = pcall(function()
    return game:HttpGet("https://nexviewsservice.shardweb.app/services/embee_hub/start")
end)

if sucess and content then
    print("Nex views registered")
end

local BROOKHAVEN_ID = 4924922222
local CHOP_TREE_ID = 123557829667240
local ANIME_TOWER_ID = 107829001675727

if game.PlaceId == BROOKHAVEN_ID then
    loadstring(game:HttpGet(
        "https://raw.githubusercontent.com/Frost230/Embee/refs/heads/main/EmbeeBrook"
    ))()

elseif game.PlaceId == CHOP_TREE_ID then
    loadstring(game:HttpGet(
        "https://raw.githubusercontent.com/Frost230/Embee/refs/heads/main/Chop%20Your%20Tree%20Embee"
    ))()

elseif game.PlaceId == ANIME_TOWER_ID then
    loadstring(game:HttpGet(
        "https://raw.githubusercontent.com/Frost230/Embee/refs/heads/main/Anime%20Tower"
    ))()

else
    warn("[EMBEE] PlaceId n√£o suportado:", game.PlaceId)
end
